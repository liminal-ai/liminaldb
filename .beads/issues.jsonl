{"id":"promptdb-228","title":"Draft conflict resolution strategy","description":"Define behavior when two browser tabs edit the same prompt simultaneously. Options: last-write-wins, timestamp-based merge, or user prompt. Currently undefined in Story 3 scope.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-09T10:47:55.259709-05:00","created_by":"leemoore","updated_at":"2026-01-09T10:47:55.259709-05:00"}
{"id":"promptdb-3d6","title":"tag-selector API: rename render() to renderHtml() or add renderInto() helper","description":"tag-selector.render() returns an HTML string, not a DOM element. This led to a bug where the caller didn't set innerHTML with the return value. Options: (1) rename to renderHtml() to make the return type obvious, or (2) add renderInto(container, tags, selected) helper that handles the innerHTML assignment internally.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-14T21:19:44.461281-05:00","created_by":"leemoore","updated_at":"2026-01-14T21:19:53.219663-05:00"}
{"id":"promptdb-3pq","title":"Add error path tests for widgetLoader","description":"widgetLoader.ts throws descriptive errors when script/CSS files are missing during inlining, but these error paths are untested. Add tests for: missing script file, missing CSS file referenced in HTML.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T20:36:58.825757-05:00","created_by":"leemoore","updated_at":"2026-01-11T20:36:58.825757-05:00"}
{"id":"promptdb-555","title":"Widget token refresh strategy","description":"Widget JWT expires after 4 hours. Adapter warns 5 min before expiry but has no refresh mechanism - user must close/reopen widget. Consider: automatic refresh via callTool(), or clearer user notification, or documenting the limitation.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-11T20:37:04.461464-05:00","created_by":"leemoore","updated_at":"2026-01-11T20:37:04.461464-05:00"}
{"id":"promptdb-89a","title":"Add rate limiting for production","description":"No per-user rate limiting visible in code. Consider adding Fastify rate-limit plugin for production hardening.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-27T08:51:58.857431-05:00","created_by":"leemoore","updated_at":"2025-12-27T08:51:58.857431-05:00"}
{"id":"promptdb-aaz","title":"Tag Suggestions - Allow users to suggest new shared tags when the 19 don't fit. Simple form captures tag name and reasoning. Manual periodic review. Accepted tags added to shared vocabulary. Thank you email to users whose suggestions ship.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-14T06:29:00.1385-05:00","created_by":"leemoore","updated_at":"2026-01-14T06:29:00.1385-05:00"}
{"id":"promptdb-arr","title":"Export endpoint: switch from GET+slugs query params to POST for large selections","description":"Selective export appends slugs to GET URL which can exceed browser/proxy URL limits (~8-16KB) for large partial selections. Current isAll optimization only skips params when all prompts are selected. At 1000 prompts with realistic slug lengths, partial selections can hit 414/431 errors. Options: (A) switch export to POST with slugs in body, (B) invert logic — send excluded slugs when selection \u003e50%, (C) chunked requests. Revisit when max prompts limits are reconsidered. Ref: src/routes/import-export.ts exportPromptsHandler, src/ui/templates/shell.html export click handler.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-25T09:52:53.890162-05:00","created_by":"leemoore","updated_at":"2026-02-25T09:52:53.890162-05:00"}
{"id":"promptdb-bzw","title":"Templates with Variables - Variable detection, edit modal with name/description/defaults, MCP param substitution, model-native runtime flow. Ship complete, not half-baked.","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-14T06:29:00.912412-05:00","created_by":"leemoore","updated_at":"2026-01-14T06:29:00.912412-05:00"}
{"id":"promptdb-df1","title":"Add aria-modal semantics and focus trap to transfer dialog","description":"Transfer dialog in shell.html lacks role=\"dialog\", aria-modal=\"true\", aria-labelledby, focus trapping (Tab cycle), and focus restore on close. Keyboard and screen-reader users can escape into background UI. Needs: save activeElement on open, focus first actionable element, trap Tab within dialog, restore focus on close. Ref: shell.html footer/transfer dialog section.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-25T09:35:45.398391-05:00","created_by":"leemoore","updated_at":"2026-02-25T09:35:45.398391-05:00"}
{"id":"promptdb-fjg","title":"Add visual feedback to Copy button","description":"Copy button should show 'Copied\\!' feedback when clicked. Currently no visual confirmation.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-07T12:43:45.429222-05:00","created_by":"leemoore","updated_at":"2026-01-07T12:43:45.429222-05:00"}
{"id":"promptdb-gtl","title":"Consider rate limiting for widget API calls","description":"Widget API calls use same routes as web app with 4-hour tokens. If widgets become popular, could be abused for excessive API calls. Evaluate if rate limiting middleware needed for widget-authenticated requests.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-11T20:37:09.810732-05:00","created_by":"leemoore","updated_at":"2026-01-11T20:37:09.810732-05:00"}
{"id":"promptdb-kg2","title":"Implement RLS rules for prompts and users tables","description":"RLS wrapper was scaffolded in convex/auth/rls.ts but left empty because no tables existed. Now that prompts, users, tags, and promptTags tables are implemented, need to add actual RLS rules to enforce user-scoped data access at the Convex layer.","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-31T08:41:21.696356-05:00","created_by":"leemoore","updated_at":"2025-12-31T08:41:21.696356-05:00"}
{"id":"promptdb-mbc","title":"Replace magic string error detection with custom error types","description":"src/routes/prompts.ts:90 and src/lib/mcp.ts:406 use error.message.includes('already exists') which is brittle. Create custom error types for more robust error handling.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-27T08:51:58.129652-05:00","created_by":"leemoore","updated_at":"2025-12-27T08:51:58.129652-05:00"}
{"id":"promptdb-u7w","title":"Theme flash on page load: hardcoded dark-1 swaps to user theme","description":"Both shell.html and prompts.html hardcode dark-1.css as the initial theme stylesheet. On page load, the client fetches the saved theme from /api/preferences, then swaps the CSS. This causes a visible flash.\n\nThe broadcastThemeToPortlet fix on portlet:ready (PR #44) fixed shell/iframe mismatch, but the underlying flash remains.\n\nOPTIONS:\n\nA) localStorage (recommended) - Inline script in head reads localStorage synchronously before first paint. loadThemePreference still runs to catch cross-device changes. Theme picker writes to both API and localStorage. Pros: no server changes, synchronous, simple. Cons: cleared browser data = one flash until API resolves.\n\nB) Theme cookie - Theme picker sets a cookie alongside the API call. Server reads cookie during render, injects correct stylesheet. Pros: works with cleared localStorage. Cons: requires server-side template changes.\n\nC) Server-side injection from Redis - Route handler reads theme from Redis cache during render, injects into template. Pros: single source of truth. Cons: async read per page load, server changes required.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-24T20:04:38.091952-05:00","created_by":"leemoore","updated_at":"2026-02-24T20:04:45.453305-05:00"}
{"id":"promptdb-utq","title":"Line edit saves to Redis draft with no commit path — should persist to Convex immediately","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-26T09:24:42.712892-05:00","created_by":"leemoore","updated_at":"2026-02-26T09:24:42.712892-05:00"}
{"id":"promptdb-vhd","title":"Complete LiminalDB rebranding","description":"Rebrand from PromptDB to LiminalDB across all surfaces:\n- package.json name change\n- Folder rename (promptdb → liminaldb)  \n- GitHub repo rename and org move (praxen-ai → liminal-ai)\n- CI/CD pipeline updates\n- Staging deploy config updates\n\nNOTE: Best done during preview deploy and prod env setup to avoid breaking existing staging.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-10T11:16:20.455924-05:00","created_by":"leemoore","updated_at":"2026-01-10T11:16:20.455924-05:00"}
{"id":"promptdb-wjl","title":"Refactor validateSlugParam to use SlugSchema.safeParse()","description":"src/routes/prompts.ts:18-28 duplicates validation logic from SlugSchema. Refactor to use SlugSchema.safeParse() for single source of truth.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-27T09:26:01.492516-05:00","created_by":"leemoore","updated_at":"2025-12-27T09:26:01.492516-05:00"}
{"id":"promptdb-wtv","title":"Add MCP run_prompt tool with XML packaging + usage tracking","description":"Deferred from Epic 02: MCP run_prompt should build prompt (resolve templates, wrap XML), return to LLM, and internally call same usage tracking as track_prompt_use (fire-and-forget).","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-08T11:24:23.500033-05:00","created_by":"leemoore","updated_at":"2026-01-08T11:24:23.500033-05:00"}
